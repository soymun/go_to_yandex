# [[Оглавление]]

# Cериализация и десериализация в Java

Сериализация — процесс преобразования объекта в поток байтов. Десериализация — восстановление объекта из байтов. В Java используется интерфейс `Serializable` и классы `ObjectOutputStream`/`ObjectInputStream`.

# `Serializable`

`Serializable` — маркерный интерфейс, указывающий, что объект можно сериализовать. JVM использует рефлексию для сериализации нестатических и непереходных (`transient`) полей.

**Особенности**:
- Игнорируются `static` и `transient` поля.
- Сериализация рекурсивна для всех ссылок на объекты.

# `serialVersionUID`

`serialVersionUID` — уникальный идентификатор версии класса для проверки совместимости при десериализации.
# `transient`

`transient` исключает поле из сериализации. Полезно для паролей или временных данных.

# `writeObject` и `readObject`

Методы `writeObject` и `readObject` позволяют управлять сериализацией.
# `Externalizable`

`Externalizable` требует явной реализации `writeExternal` и `readExternal`.

**Отличия**:

- Полный контроль, но больше кода.
- Компактнее, без метаданных.
- Требуется конструктор без параметров.

# Какие исключения могут возникнуть при сериализации

- `NotSerializableException`
- `InvalidClassException`
- `StreamCorruptedException`
- `ClassNotFoundException`
- `IOException`

# Cериализация и JVM

JVM использует `ObjectOutputStream` для сериализации и `ObjectInputStream` для десериализации:

1. Записывает заголовок, метаданные класса и значения полей.
2. Обрабатывает ссылки через дескрипторы (`handle`).
3. При десериализации создаёт объект без вызова конструктора.

**Кастомизация**:

- Методы `writeObject` и `readObject`.

# Наследование и сериализация

- Если родительский класс `Serializable`, подклассы тоже сериализуемы.
- Если родитель не `Serializable`, его поля игнорируются, требуется конструктор без параметров.

# [[Оглавление]]