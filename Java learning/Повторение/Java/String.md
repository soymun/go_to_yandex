# [[Оглавление]]

# String
Класс `String` представляет неизменяемую последовательность символов Unicode. Он находится в пакете `java.lang` и широко используется для обработки текстовых данных. Реализует шаблон **Flyweight (Приспособленец)** из-за String Pool.
# String Pool
Пул строк — область памяти в куче, где JVM хранит уникальные строковые литералы для экономии памяти. Реализовано в виде хэш таблицы (`StringTable`), настраивается через `-XX:StringTableSize`.
1. Литералы (например, `"Hello"`) автоматически интернируются в пул при загрузке класса.
2. Метод `String.intern()` добавляет строку в пул, возвращая каноническую версию.
3. Одинаковые строки используют одну ссылку из пула.
# StringBuilder
`StringBuilder` - это изменяемая не потокобезопастная версия строки. Преимущества данного класса в динамическом изменении строки, что делает его более оптимизированным по сравнению с String.
# String equals
1. Одинаковые строки используют одну ссылку из пула.
2. При создании новой строки через new, создаётся другая ссылка
3. Метод `String.intern()` добавляет строку в пул, то есть ссылки одинаковые
# String Templates
`String Templates` (JEP 430, preview в Java 21) упрощают создание строк с динамическими вставками:

`String name = "Alice";`
`String template = STR."Hello, \{name}!"; // Hello, Alice!`
# Оптимизация String
С Java 9 (стандартизировано в Java 11) строки используют `byte[]` с кодировкой LATIN1 или UTF16 (JEP 254).
1. Символы Latin-1 (0–255) хранятся в LATIN1 (1 байт/символ).
2. Символы вне Latin-1 (например, кириллица) — в UTF16 (2 байта/символ).
3. Поле `coder`: `0` (LATIN1), `1` (UTF16).

# [[Оглавление]]